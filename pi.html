<script>
    function getLocationByIP() {
        var url = "https://api.map.baidu.com/location/ip?ak=sxuYeFztjuPh8P2xF9ZxhmVQTsrdWbtP&coor=bd09ll&callback=showLocation";
        var script = document.createElement("script");
        script.src = url;
        document.body.appendChild(script);
    }

    function showLocation(response) {
        if (response && response.content && response.content.address_detail) {
            var detail = response.content.address_detail;
            var address = `${detail.province} ${detail.city} ${detail.district}`;
            document.getElementById("address").innerText = "当前地址：" + address;
        } else {
            document.getElementById("address").innerText = "定位失败";
        }
    }

    window.onload = getLocationByIP;
</script>
