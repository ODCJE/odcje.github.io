<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>腾讯定位示例</title>
    <script src="https://map.qq.com/api/gljs?v=1.exp&key=Y7NBZ-6EOLI-4FDGL-U6XJT-WTTP5-MYBAV"></script>
</head>
<body>
    <script>
        // 创建定位对象
        var geo = new qq.maps.Geolocation('Y7NBZ-6EOLI-4FDGL-U6XJT-WTTP5-MYBAV', 'myapp');
        
        // 获取当前位置
        geo.getLocation(function(position) {
            // 打印经纬度
            console.log("当前位置的经纬度: ", position.lat + ", " + position.lng);

            // 反向地理编码获取详细地址
            var geocoder = new qq.maps.Geocoder({
                complete: function(result) {
                    // 打印地址
                    console.log("用户所在地：", result.detail.address);
                }
            });
            geocoder.getAddress(new qq.maps.LatLng(position.lat, position.lng));
        }, function(error) {
            console.error("定位失败: ", error);
        });
    </script>
</body>
</html>
